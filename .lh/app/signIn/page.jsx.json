{
    "sourceFile": "app/signIn/page.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 34,
            "patches": [
                {
                    "date": 1695506529585,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1695508639528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,10 @@\n import { useState } from 'react';\r\n import { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\r\n import { ToastContainer, toast } from 'react-toastify';\r\n import { db } from '../firebase';\r\n+\r\n+\r\n export default function Signin() {\r\n   const [email, setEmail] = useState('');\r\n   const [password, setPassword] = useState('');\r\n   const router = useRouter();\r\n@@ -39,13 +41,13 @@\n         await signIn(\"credentials\", { email, password, redirect: true, callbackUrl:'/' });\r\n       }\r\n \r\n   \r\n-      // toast.success(\"You are signed in.\", {\r\n-      //   position: \"top-right\",\r\n-      //   autoClose: 3000,\r\n-      // });\r\n-      // router.push(\"/\");\r\n+      toast.success(\"You are signed in.\", {\r\n+        position: \"top-right\",\r\n+        autoClose: 3000,\r\n+      });\r\n+      router.push(\"/\");\r\n     } catch (error) {\r\n       toast.error(error.message);\r\n     }\r\n   };\r\n"
                },
                {
                    "date": 1695508665144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,8 @@\n \r\n   \r\n   const handleSignIn = async () => {\r\n     try {\r\n-      // Dobavite Firestore instancu\r\n      \r\n   \r\n       // Dohvati korisnika iz Firestore-a\r\n       const usersRef = collection(db, \"users\");\r\n"
                },
                {
                    "date": 1695508671483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,10 +17,8 @@\n   \r\n   const handleSignIn = async () => {\r\n     try {\r\n      \r\n-  \r\n-      // Dohvati korisnika iz Firestore-a\r\n       const usersRef = collection(db, \"users\");\r\n       const q = query(usersRef, where(\"email\", \"==\", email));\r\n       const querySnapshot = await getDocs(q);\r\n   \r\n"
                },
                {
                    "date": 1695509031448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,11 +11,8 @@\n   const [email, setEmail] = useState('');\r\n   const [password, setPassword] = useState('');\r\n   const router = useRouter();\r\n \r\n-\r\n-\r\n-  \r\n   const handleSignIn = async () => {\r\n     try {\r\n      \r\n       const usersRef = collection(db, \"users\");\r\n"
                },
                {
                    "date": 1695563065512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n 'use client';\r\n-import { getSession, signIn, useSession } from 'next-auth/react';\r\n+import { signInWithEmailAndPassword } from 'firebase/auth'; // Dodati Firebase Auth funkciju za prijavu\r\n import { useRouter } from 'next/navigation';\r\n import { useState } from 'react';\r\n import { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\r\n import { ToastContainer, toast } from 'react-toastify';\r\n"
                },
                {
                    "date": 1695563096491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n 'use client';\r\n-import { signInWithEmailAndPassword } from 'firebase/auth'; // Dodati Firebase Auth funkciju za prijavu\r\n+import { signInWithEmailAndPassword } from 'firebase/auth'; \r\n import { useRouter } from 'next/navigation';\r\n import { useState } from 'react';\r\n import { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\r\n import { ToastContainer, toast } from 'react-toastify';\r\n@@ -13,35 +13,34 @@\n   const router = useRouter();\r\n \r\n   const handleSignIn = async () => {\r\n     try {\r\n-     \r\n-      const usersRef = collection(db, \"users\");\r\n-      const q = query(usersRef, where(\"email\", \"==\", email));\r\n+      const usersRef = collection(db, 'users');\r\n+      const q = query(usersRef, where('email', '==', email));\r\n       const querySnapshot = await getDocs(q);\r\n-  \r\n+\r\n       if (querySnapshot.size === 0) {\r\n         // Korisnik s ovom email adresom ne postoji u Firestore-u\r\n-        throw new Error(\"User not found.\");\r\n+        throw new Error('User not found.');\r\n       }\r\n-  \r\n+\r\n       // Pretpostavka da postoji samo jedan korisnik s ovim emailom\r\n       const userDoc = querySnapshot.docs[0];\r\n       const userData = userDoc.data();\r\n-  \r\n+\r\n       if (!userData.isEmailVerified) {\r\n         // Korisnikova email adresa nije verificirana\r\n-        throw new Error(\"Email is not verified.\");\r\n-      }else{\r\n-        await signIn(\"credentials\", { email, password, redirect: true, callbackUrl:'/' });\r\n+        throw new Error('Email is not verified.');\r\n+      } else {\r\n+        // Koristite Firebase Auth funkciju za prijavu\r\n+        await signInWithEmailAndPassword(auth, email, password);\r\n       }\r\n \r\n-  \r\n-      toast.success(\"You are signed in.\", {\r\n-        position: \"top-right\",\r\n+      toast.success('You are signed in.', {\r\n+        position: 'top-right',\r\n         autoClose: 3000,\r\n       });\r\n-      router.push(\"/\");\r\n+      router.push('/');\r\n     } catch (error) {\r\n       toast.error(error.message);\r\n     }\r\n   };\r\n"
                },
                {
                    "date": 1695563199114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import { useRouter } from 'next/navigation';\r\n import { useState } from 'react';\r\n import { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\r\n import { ToastContainer, toast } from 'react-toastify';\r\n-import { db } from '../firebase';\r\n+import { auth, db } from '../firebase';\r\n \r\n \r\n export default function Signin() {\r\n   const [email, setEmail] = useState('');\r\n"
                },
                {
                    "date": 1695760197592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,8 +11,24 @@\n   const [email, setEmail] = useState('');\r\n   const [password, setPassword] = useState('');\r\n   const router = useRouter();\r\n \r\n+  const [isMobile, setIsMobile] = useState(false);\r\n+\r\n+  useEffect(() => {\r\n+    setIsMobile(window.innerWidth <= 768);\r\n+\r\n+    const handleResize = () => {\r\n+      setIsMobile(window.innerWidth <= 768);\r\n+    };\r\n+\r\n+    window.addEventListener(\"resize\", handleResize);\r\n+\r\n+    return () => {\r\n+      window.removeEventListener(\"resize\", handleResize);\r\n+    };\r\n+  }, []);\r\n+\r\n   const handleSignIn = async () => {\r\n     try {\r\n       const usersRef = collection(db, 'users');\r\n       const q = query(usersRef, where('email', '==', email));\r\n"
                },
                {
                    "date": 1695760650353,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,8 @@\n export default function Signin() {\r\n   const [email, setEmail] = useState('');\r\n   const [password, setPassword] = useState('');\r\n   const router = useRouter();\r\n-\r\n   const [isMobile, setIsMobile] = useState(false);\r\n \r\n   useEffect(() => {\r\n     setIsMobile(window.innerWidth <= 768);\r\n@@ -64,85 +63,148 @@\n \r\n \r\n   \r\n   return (\r\n-    <>\r\n-    <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\r\n-        <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n-          <img\r\n-            className=\"mx-auto h-10 w-auto\"\r\n-            src=\"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500\"\r\n-            alt=\"Your Company\"\r\n-          />\r\n-          <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white\">\r\n-            Sign in to your account\r\n-          </h2>\r\n-        </div>\r\n+    <div className=\"flex min-h-screen items-center justify-center background text-black\">\r\n+      <div className=\"w-full max-w-xl mx-auto flex roundedFirst overflow-hidden\">\r\n+        {!isMobile ? (\r\n+          <div className=\"w-1/2 p-8 text-center flex flex-col items-center joinRellyBg  justify-center\">\r\n+            <Image\r\n+              src=\"/assets/relly_wink_pointing_right.png\"\r\n+              alt=\"Image\"\r\n+              width={200}\r\n+              height={150}\r\n+              className=\"rellyImg rounded-lg\"\r\n+            />\r\n+            <p className={`text-3xl font-bold mt-4`}>Join Relly</p>\r\n+            <p className=\"text-lg mt-2 font-semibold\">\r\n+              Your Trusted Relationship <br /> Guide!\r\n+            </p>\r\n+          </div>\r\n+        ) : null}\r\n \r\n-        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n-          <div className=\"space-y-6\">\r\n-            <div>\r\n-              <label htmlFor=\"email\" className=\"block text-sm font-medium leading-6 text-white\">\r\n-                Email address\r\n-              </label>\r\n-              <div className=\"mt-2\">\r\n-                <input\r\n-                  id=\"email\"\r\n-                  name=\"email\"\r\n-                  type=\"email\"\r\n-                  autoComplete=\"email\"\r\n-                  onChange={(e) => setEmail(e.target.value)}\r\n-                  required\r\n-                  className=\"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6\"\r\n-                />\r\n-              </div>\r\n-            </div>\r\n+        <div\r\n+          className={`${isMobile ? \"w-full\" : \"w-1/2\"} ${\r\n+            isMobile ? \"\" : \"formRellyBg\"\r\n+          } p-8  roundedSecond flex flex-col items-center justify-center`}\r\n+        >\r\n+          {isMobile ? (\r\n+            <>\r\n+              <Image\r\n+                src=\"/assets/relly2.png\"\r\n+                alt=\"Image\"\r\n+                width={200}\r\n+                height={150}\r\n+                className=\"rellyImg rounded-lg mx-auto\"\r\n+              />\r\n+              <p className=\"text-3xl font-semibold mt-0 text-center\">\r\n+                Join Relly\r\n+              </p>\r\n+              <p className=\"text-lg mt-1 font-semibold text-center\">\r\n+                Your Trusted Relationship <br /> Guide!\r\n+              </p>\r\n+            </>\r\n+          ) : (\r\n+            <>\r\n+              <h2 className=\"text-2xl hidden md:block font-semibold leading-9 tracking-tight mb-2 text-center\">\r\n+                Get Started\r\n+              </h2>\r\n+            </>\r\n+          )}\r\n \r\n-            <div>\r\n-              <div className=\"flex items-center justify-between\">\r\n-                <label htmlFor=\"password\" className=\"block text-sm font-medium leading-6 text-white\">\r\n-                  Password\r\n-                </label>\r\n-                <div className=\"text-sm\">\r\n-                  <div onClick={() => router.push('/forgot-password')} className=\"cursor-pointer font-semibold text-indigo-400 hover:text-indigo-300\">\r\n-                    Forgot password?\r\n-                  </div>\r\n-                </div>\r\n-              </div>\r\n-              <div className=\"mt-2\">\r\n-                <input\r\n-                  id=\"password\"\r\n-                  name=\"password\"\r\n-                  type=\"password\"\r\n-                  autoComplete=\"current-password\"\r\n-                  onChange={(e) => setPassword(e.target.value)}\r\n-                  required\r\n-                  className=\"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6\"\r\n-                />\r\n-              </div>\r\n+          <div className=\"flex flex-col justify-between items-center gap-4 w-full mt-2\">\r\n+            <div className=\"w-3/4\">\r\n+              <h2 className=\"block leading-9 font-semibold tracking-tight text-2xl md:hidden\">\r\n+                Sign Up\r\n+              </h2>\r\n             </div>\r\n-\r\n-          \r\n-              <button\r\n-                onClick={() => handleSignIn()}\r\n-                disabled={!email || !password}\r\n-                className=\"disabled:opacity-40 flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500\"\r\n-              >\r\n-                Sign in\r\n-              </button>\r\n-       \r\n+            <input\r\n+              id=\"firstName\"\r\n+              name=\"firstName\"\r\n+              type=\"text\"\r\n+              placeholder=\"First Name\"\r\n+              onChange={(e) => setFirstName(e.target.value)}\r\n+              required\r\n+              className={`block ${\r\n+                isMobile ? \"w-3/4\" : \"w-full\"\r\n+              }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm`}\r\n+            />\r\n+            <input\r\n+              id=\"lastName\"\r\n+              name=\"lastName\"\r\n+              type=\"text\"\r\n+              placeholder=\"Last Name\"\r\n+              onChange={(e) => setLastName(e.target.value)}\r\n+              required\r\n+              className={`block ${\r\n+                isMobile ? \"w-3/4\" : \"w-full\"\r\n+              }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm `}\r\n+            />\r\n+            <input\r\n+              id=\"email\"\r\n+              name=\"email\"\r\n+              type=\"email\"\r\n+              placeholder=\"Email address\"\r\n+              autoComplete=\"email\"\r\n+              onChange={(e) => setEmail(e.target.value)}\r\n+              required\r\n+              className={`block ${\r\n+                isMobile ? \"w-3/4\" : \"w-full\"\r\n+              }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm`}\r\n+            />\r\n+            <input\r\n+              id=\"password\"\r\n+              name=\"password\"\r\n+              type=\"password\"\r\n+              placeholder=\"Password\"\r\n+              autoComplete=\"current-password\"\r\n+              onChange={(e) => setPassword(e.target.value)}\r\n+              required\r\n+              className={`block ${\r\n+                isMobile ? \"w-3/4\" : \"w-full\"\r\n+              }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm`}\r\n+            />\r\n+            <input\r\n+              id=\"passwordAgain\"\r\n+              name=\"passwordAgain\"\r\n+              type=\"password\"\r\n+              placeholder=\"Confirm Password\"\r\n+              autoComplete=\"current-password\"\r\n+              onChange={(e) => setPasswordAgain(e.target.value)}\r\n+              required\r\n+              className={`block ${\r\n+                isMobile ? \"w-3/4\" : \"w-full\"\r\n+              }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm`}\r\n+            />\r\n+            <button\r\n+              disabled={\r\n+                !email ||\r\n+                !password ||\r\n+                !passwordAgain ||\r\n+                password !== passwordAgain\r\n+              }\r\n+              onClick={() => signup()}\r\n+              className={`max-w-xs mx-auto py-2 px-4 font-medium ${\r\n+                isMobile ? \"customMobileButton\" : \"customButton\"\r\n+              }`}\r\n+            >\r\n+              Sign Up\r\n+            </button>\r\n           </div>\r\n \r\n-    \r\n-            <button onClick={() => router.push('signUp')} className=\"font-semibold leading-6 text-indigo-400 hover:text-indigo-300\">\r\n-              Sign Up\r\n+          <p className=\"mt-6 text-center text-md font-semibold text-black md:text-sm\">\r\n+            Already started?{\" \"}\r\n+            <button\r\n+              onClick={() => router.push(\"signIn\")}\r\n+              className=\"font-semibold leading-6 text-black underline\"\r\n+            >\r\n+              Sign In\r\n             </button>\r\n-            <ToastContainer/>\r\n-       \r\n+          </p>\r\n         </div>\r\n       </div>\r\n-    </>\r\n-  )\r\n+    </div>\r\n+  );\r\n }\r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1695760657158,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -162,20 +162,9 @@\n               className={`block ${\r\n                 isMobile ? \"w-3/4\" : \"w-full\"\r\n               }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm`}\r\n             />\r\n-            <input\r\n-              id=\"passwordAgain\"\r\n-              name=\"passwordAgain\"\r\n-              type=\"password\"\r\n-              placeholder=\"Confirm Password\"\r\n-              autoComplete=\"current-password\"\r\n-              onChange={(e) => setPasswordAgain(e.target.value)}\r\n-              required\r\n-              className={`block ${\r\n-                isMobile ? \"w-3/4\" : \"w-full\"\r\n-              }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm`}\r\n-            />\r\n+            \r\n             <button\r\n               disabled={\r\n                 !email ||\r\n                 !password ||\r\n"
                },
                {
                    "date": 1695760663752,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,31 +116,10 @@\n               <h2 className=\"block leading-9 font-semibold tracking-tight text-2xl md:hidden\">\r\n                 Sign Up\r\n               </h2>\r\n             </div>\r\n+            \r\n             <input\r\n-              id=\"firstName\"\r\n-              name=\"firstName\"\r\n-              type=\"text\"\r\n-              placeholder=\"First Name\"\r\n-              onChange={(e) => setFirstName(e.target.value)}\r\n-              required\r\n-              className={`block ${\r\n-                isMobile ? \"w-3/4\" : \"w-full\"\r\n-              }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm`}\r\n-            />\r\n-            <input\r\n-              id=\"lastName\"\r\n-              name=\"lastName\"\r\n-              type=\"text\"\r\n-              placeholder=\"Last Name\"\r\n-              onChange={(e) => setLastName(e.target.value)}\r\n-              required\r\n-              className={`block ${\r\n-                isMobile ? \"w-3/4\" : \"w-full\"\r\n-              }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm `}\r\n-            />\r\n-            <input\r\n               id=\"email\"\r\n               name=\"email\"\r\n               type=\"email\"\r\n               placeholder=\"Email address\"\r\n"
                },
                {
                    "date": 1695760680548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -113,9 +113,9 @@\n \r\n           <div className=\"flex flex-col justify-between items-center gap-4 w-full mt-2\">\r\n             <div className=\"w-3/4\">\r\n               <h2 className=\"block leading-9 font-semibold tracking-tight text-2xl md:hidden\">\r\n-                Sign Up\r\n+                Sign In\r\n               </h2>\r\n             </div>\r\n             \r\n             <input\r\n@@ -149,9 +149,9 @@\n                 !password ||\r\n                 !passwordAgain ||\r\n                 password !== passwordAgain\r\n               }\r\n-              onClick={() => signup()}\r\n+              onClick={() => handleSignIn()}\r\n               className={`max-w-xs mx-auto py-2 px-4 font-medium ${\r\n                 isMobile ? \"customMobileButton\" : \"customButton\"\r\n               }`}\r\n             >\r\n"
                },
                {
                    "date": 1695760698352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,14 +154,14 @@\n               className={`max-w-xs mx-auto py-2 px-4 font-medium ${\r\n                 isMobile ? \"customMobileButton\" : \"customButton\"\r\n               }`}\r\n             >\r\n-              Sign Up\r\n+              Sign In\r\n             </button>\r\n           </div>\r\n \r\n           <p className=\"mt-6 text-center text-md font-semibold text-black md:text-sm\">\r\n-            Already started?{\" \"}\r\n+            Havent started?{\" \"}\r\n             <button\r\n               onClick={() => router.push(\"signIn\")}\r\n               className=\"font-semibold leading-6 text-black underline\"\r\n             >\r\n"
                },
                {
                    "date": 1695760704101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,9 +161,9 @@\n \r\n           <p className=\"mt-6 text-center text-md font-semibold text-black md:text-sm\">\r\n             Havent started?{\" \"}\r\n             <button\r\n-              onClick={() => router.push(\"signIn\")}\r\n+              onClick={() => router.push(\"signUp\")}\r\n               className=\"font-semibold leading-6 text-black underline\"\r\n             >\r\n               Sign In\r\n             </button>\r\n"
                },
                {
                    "date": 1695760728343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n 'use client';\r\n import { signInWithEmailAndPassword } from 'firebase/auth'; \r\n import { useRouter } from 'next/navigation';\r\n-import { useState } from 'react';\r\n+import { useState,useEffect } from 'react';\r\n import { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\r\n import { ToastContainer, toast } from 'react-toastify';\r\n import { auth, db } from '../firebase';\r\n \r\n"
                },
                {
                    "date": 1695760752185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,10 +4,10 @@\n import { useState,useEffect } from 'react';\r\n import { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\r\n import { ToastContainer, toast } from 'react-toastify';\r\n import { auth, db } from '../firebase';\r\n+Image\r\n \r\n-\r\n export default function Signin() {\r\n   const [email, setEmail] = useState('');\r\n   const [password, setPassword] = useState('');\r\n   const router = useRouter();\r\n"
                },
                {
                    "date": 1695760757447,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,10 +4,11 @@\n import { useState,useEffect } from 'react';\r\n import { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\r\n import { ToastContainer, toast } from 'react-toastify';\r\n import { auth, db } from '../firebase';\r\n-Image\r\n+import Image from 'next/image';\r\n \r\n+\r\n export default function Signin() {\r\n   const [email, setEmail] = useState('');\r\n   const [password, setPassword] = useState('');\r\n   const router = useRouter();\r\n"
                },
                {
                    "date": 1695760782973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,9 +75,8 @@\n               width={200}\r\n               height={150}\r\n               className=\"rellyImg rounded-lg\"\r\n             />\r\n-            <p className={`text-3xl font-bold mt-4`}>Join Relly</p>\r\n             <p className=\"text-lg mt-2 font-semibold\">\r\n               Your Trusted Relationship <br /> Guide!\r\n             </p>\r\n           </div>\r\n"
                },
                {
                    "date": 1695760789729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n               height={150}\r\n               className=\"rellyImg rounded-lg\"\r\n             />\r\n             <p className=\"text-lg mt-2 font-semibold\">\r\n-              Your Trusted Relationship <br /> Guide!\r\n+              Hey You're Back!\r\n             </p>\r\n           </div>\r\n         ) : null}\r\n \r\n"
                },
                {
                    "date": 1695760818875,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,11 +95,9 @@\n                 width={200}\r\n                 height={150}\r\n                 className=\"rellyImg rounded-lg mx-auto\"\r\n               />\r\n-              <p className=\"text-3xl font-semibold mt-0 text-center\">\r\n-                Join Relly\r\n-              </p>\r\n+             \r\n               <p className=\"text-lg mt-1 font-semibold text-center\">\r\n                 Your Trusted Relationship <br /> Guide!\r\n               </p>\r\n             </>\r\n"
                },
                {
                    "date": 1695760825795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n                 className=\"rellyImg rounded-lg mx-auto\"\r\n               />\r\n              \r\n               <p className=\"text-lg mt-1 font-semibold text-center\">\r\n-                Your Trusted Relationship <br /> Guide!\r\n+                Hey You're Back!\r\n               </p>\r\n             </>\r\n           ) : (\r\n             <>\r\n"
                },
                {
                    "date": 1695760841088,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,9 +103,9 @@\n             </>\r\n           ) : (\r\n             <>\r\n               <h2 className=\"text-2xl hidden md:block font-semibold leading-9 tracking-tight mb-2 text-center\">\r\n-                Get Started\r\n+                Sign In\r\n               </h2>\r\n             </>\r\n           )}\r\n \r\n"
                },
                {
                    "date": 1695760864718,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,10 +144,9 @@\n             <button\r\n               disabled={\r\n                 !email ||\r\n                 !password ||\r\n-                !passwordAgain ||\r\n-                password !== passwordAgain\r\n+               \r\n               }\r\n               onClick={() => handleSignIn()}\r\n               className={`max-w-xs mx-auto py-2 px-4 font-medium ${\r\n                 isMobile ? \"customMobileButton\" : \"customButton\"\r\n"
                },
                {
                    "date": 1695760874348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,8 +145,9 @@\n               disabled={\r\n                 !email ||\r\n                 !password ||\r\n                \r\n+                password !== passwordAgain\r\n               }\r\n               onClick={() => handleSignIn()}\r\n               className={`max-w-xs mx-auto py-2 px-4 font-medium ${\r\n                 isMobile ? \"customMobileButton\" : \"customButton\"\r\n"
                },
                {
                    "date": 1695760884539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -144,10 +144,8 @@\n             <button\r\n               disabled={\r\n                 !email ||\r\n                 !password ||\r\n-               \r\n-                password !== passwordAgain\r\n               }\r\n               onClick={() => handleSignIn()}\r\n               className={`max-w-xs mx-auto py-2 px-4 font-medium ${\r\n                 isMobile ? \"customMobileButton\" : \"customButton\"\r\n"
                },
                {
                    "date": 1695760890802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,12 +141,9 @@\n               }  border-gray-300 py-2 px-3 text-gray-800 shadow-sm rounded border focus:outline-none sm:text-sm`}\r\n             />\r\n             \r\n             <button\r\n-              disabled={\r\n-                !email ||\r\n-                !password ||\r\n-              }\r\n+             \r\n               onClick={() => handleSignIn()}\r\n               className={`max-w-xs mx-auto py-2 px-4 font-medium ${\r\n                 isMobile ? \"customMobileButton\" : \"customButton\"\r\n               }`}\r\n"
                },
                {
                    "date": 1695760921090,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n                 height={150}\r\n                 className=\"rellyImg rounded-lg mx-auto\"\r\n               />\r\n              \r\n-              <p className=\"text-lg mt-1 font-semibold text-center\">\r\n+              <p className=\"text-lg  text-2xl mt-1 font-semibold text-center\">\r\n                 Hey You're Back!\r\n               </p>\r\n             </>\r\n           ) : (\r\n"
                },
                {
                    "date": 1695760937258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n                 height={150}\r\n                 className=\"rellyImg rounded-lg mx-auto\"\r\n               />\r\n              \r\n-              <p className=\"text-lg  text-2xl mt-1 font-semibold text-center\">\r\n+              <p className=\"  text-2xl mt-1 font-semibold text-center\">\r\n                 Hey You're Back!\r\n               </p>\r\n             </>\r\n           ) : (\r\n"
                },
                {
                    "date": 1695760943026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n                 height={150}\r\n                 className=\"rellyImg rounded-lg mx-auto\"\r\n               />\r\n              \r\n-              <p className=\"  text-2xl mt-1 font-semibold text-center\">\r\n+              <p className=\"text-3xl mt-1 font-semibold text-center\">\r\n                 Hey You're Back!\r\n               </p>\r\n             </>\r\n           ) : (\r\n"
                },
                {
                    "date": 1695760985463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n   return (\r\n     <div className=\"flex min-h-screen items-center justify-center background text-black\">\r\n       <div className=\"w-full max-w-xl mx-auto flex roundedFirst overflow-hidden\">\r\n         {!isMobile ? (\r\n-          <div className=\"w-1/2 p-8 text-center flex flex-col items-center joinRellyBg  justify-center\">\r\n+          <div className=\"w-1/2 p-8 text-center flex flex-col items-center joinRellyBg h- justify-center\">\r\n             <Image\r\n               src=\"/assets/relly_wink_pointing_right.png\"\r\n               alt=\"Image\"\r\n               width={200}\r\n"
                },
                {
                    "date": 1695760993208,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n   return (\r\n     <div className=\"flex min-h-screen items-center justify-center background text-black\">\r\n       <div className=\"w-full max-w-xl mx-auto flex roundedFirst overflow-hidden\">\r\n         {!isMobile ? (\r\n-          <div className=\"w-1/2 p-8 text-center flex flex-col items-center joinRellyBg h- justify-center\">\r\n+          <div className=\"w-1/2 p-8 text-center flex flex-col items-center joinRellyBg h-1/2 justify-center\">\r\n             <Image\r\n               src=\"/assets/relly_wink_pointing_right.png\"\r\n               alt=\"Image\"\r\n               width={200}\r\n"
                },
                {
                    "date": 1695760998672,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n   return (\r\n     <div className=\"flex min-h-screen items-center justify-center background text-black\">\r\n       <div className=\"w-full max-w-xl mx-auto flex roundedFirst overflow-hidden\">\r\n         {!isMobile ? (\r\n-          <div className=\"w-1/2 p-8 text-center flex flex-col items-center joinRellyBg h-1/2 justify-center\">\r\n+          <div className=\"w-1/2 p-8 text-center flex flex-col items-center joinRellyBg h-3/2 justify-center\">\r\n             <Image\r\n               src=\"/assets/relly_wink_pointing_right.png\"\r\n               alt=\"Image\"\r\n               width={200}\r\n"
                },
                {
                    "date": 1695761005228,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n   return (\r\n     <div className=\"flex min-h-screen items-center justify-center background text-black\">\r\n       <div className=\"w-full max-w-xl mx-auto flex roundedFirst overflow-hidden\">\r\n         {!isMobile ? (\r\n-          <div className=\"w-1/2 p-8 text-center flex flex-col items-center joinRellyBg h-3/4 justify-center\">\r\n+          <div className=\"w-1/2 p-8 text-center flex flex-col items-center joinRellyBg h-3/5 justify-center\">\r\n             <Image\r\n               src=\"/assets/relly_wink_pointing_right.png\"\r\n               alt=\"Image\"\r\n               width={200}\r\n"
                },
                {
                    "date": 1697215193684,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n import { ToastContainer, toast } from 'react-toastify';\r\n import { auth, db } from '../firebase';\r\n import Image from 'next/image';\r\n import { Formik, Form, Field, ErrorMessage } from 'formik';\r\n-signInS\r\n+signInSc\r\n \r\n \r\n export default function Signin() {\r\n   const [email, setEmail] = useState('');\r\n"
                }
            ],
            "date": 1695506529585,
            "name": "Commit-0",
            "content": "'use client';\r\nimport { getSession, signIn, useSession } from 'next-auth/react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useState } from 'react';\r\nimport { getFirestore, collection, query, where, getDocs } from \"firebase/firestore\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { db } from '../firebase';\r\nexport default function Signin() {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const router = useRouter();\r\n\r\n\r\n\r\n  \r\n  const handleSignIn = async () => {\r\n    try {\r\n      // Dobavite Firestore instancu\r\n     \r\n  \r\n      // Dohvati korisnika iz Firestore-a\r\n      const usersRef = collection(db, \"users\");\r\n      const q = query(usersRef, where(\"email\", \"==\", email));\r\n      const querySnapshot = await getDocs(q);\r\n  \r\n      if (querySnapshot.size === 0) {\r\n        // Korisnik s ovom email adresom ne postoji u Firestore-u\r\n        throw new Error(\"User not found.\");\r\n      }\r\n  \r\n      // Pretpostavka da postoji samo jedan korisnik s ovim emailom\r\n      const userDoc = querySnapshot.docs[0];\r\n      const userData = userDoc.data();\r\n  \r\n      if (!userData.isEmailVerified) {\r\n        // Korisnikova email adresa nije verificirana\r\n        throw new Error(\"Email is not verified.\");\r\n      }else{\r\n        await signIn(\"credentials\", { email, password, redirect: true, callbackUrl:'/' });\r\n      }\r\n\r\n  \r\n      // toast.success(\"You are signed in.\", {\r\n      //   position: \"top-right\",\r\n      //   autoClose: 3000,\r\n      // });\r\n      // router.push(\"/\");\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n  \r\n\r\n\r\n  \r\n  return (\r\n    <>\r\n    <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\r\n        <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          <img\r\n            className=\"mx-auto h-10 w-auto\"\r\n            src=\"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500\"\r\n            alt=\"Your Company\"\r\n          />\r\n          <h2 className=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white\">\r\n            Sign in to your account\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium leading-6 text-white\">\r\n                Email address\r\n              </label>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  autoComplete=\"email\"\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  required\r\n                  className=\"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <label htmlFor=\"password\" className=\"block text-sm font-medium leading-6 text-white\">\r\n                  Password\r\n                </label>\r\n                <div className=\"text-sm\">\r\n                  <div onClick={() => router.push('/forgot-password')} className=\"cursor-pointer font-semibold text-indigo-400 hover:text-indigo-300\">\r\n                    Forgot password?\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  required\r\n                  className=\"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n          \r\n              <button\r\n                onClick={() => handleSignIn()}\r\n                disabled={!email || !password}\r\n                className=\"disabled:opacity-40 flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500\"\r\n              >\r\n                Sign in\r\n              </button>\r\n       \r\n          </div>\r\n\r\n    \r\n            <button onClick={() => router.push('signUp')} className=\"font-semibold leading-6 text-indigo-400 hover:text-indigo-300\">\r\n              Sign Up\r\n            </button>\r\n            <ToastContainer/>\r\n       \r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"
        }
    ]
}